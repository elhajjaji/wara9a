# ðŸ”„ Auto-Dependencies Configuration - Wara9a
# 
# This configuration file demonstrates how Wara9a automatically installs
# required dependencies based on the connectors used.

project:
  name: "Auto-Dependencies Project"
  version: "2.0.0"
  description: "Example project with automatic dependency installation"
  author: "Wara9a Team"

# ðŸ“¦ Auto-installation configuration
auto_install_deps: true  # Enable automatic installation (default: true)

# ðŸ”Œ Sources using different connectors
# Each connector triggers automatic installation of its dependencies
sources:
  # GitHub connector - triggers installation of:
  # - pygithub>=1.58.0
  # - requests>=2.28.0
  - type: github
    name: "Main repository"
    repo: "elhajjaji/wara9a"
    token: "${GITHUB_TOKEN}"
    max_commits: 30
    enabled: true

  # Local files connector - no external dependencies
  - type: local_files
    name: "Local documentation"
    path: "."
    patterns:
      - "README.md"
      - "CHANGELOG.md"
      - "docs/**/*.md"
    enabled: true

  # Jira connector (future) - will trigger installation of:
  # - jira>=3.4.0
  - type: jira
    name: "Jira tickets"
    server: "https://mycompany.atlassian.net"
    project: "PROJ"
    username: "${JIRA_USER}"
    token: "${JIRA_TOKEN}"
    enabled: false  # Disabled for now

templates:
  - name: readme
    output: "README_auto.md"
    enabled: true
    
  - name: changelog
    output: "CHANGELOG_auto.md"
    enabled: true
    
  - name: release_notes
    output: "RELEASE_NOTES.md"
    enabled: true

# ðŸ“„ Output formats - some trigger dependencies
output:
  directory: "docs_auto"
  formats:
    - markdown      # No additional dependencies
    - html          # May trigger: markdown>=3.5.0 (optional)
    # - pdf         # Would trigger: reportlab>=4.0.0, weasyprint>=59.0
  clean_before: true

# Advanced configuration
log_level: "INFO"
parallel: true
cache_enabled: true

# ðŸ’¡ How it works:
#
# 1. On startup, Wara9a analyzes this configuration
# 2. It detects you're using the "github" connector
# 3. It checks if dependencies are installed (pygithub, etc.)
# 4. If missing, it installs them automatically
# 5. Same principle for generators based on chosen formats
#
# ðŸ”§ Useful commands:
#
# # Check which dependencies would be needed
# wara9a deps check
#
# # Manually install dependencies
# wara9a deps install
#
# # See all connectors and their dependencies
# wara9a deps list
#
# # Simulation mode (only shows what would be installed)
# wara9a deps install --dry-run
#
# ðŸš« Disable auto-installation:
#
# If you prefer to manage dependencies manually:
# auto_install_deps: false